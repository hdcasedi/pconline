{% load wagtailcore_tags %}

{# on récupère la structure des lignes — value.data (Wagtail récent) ou value (ancien) #}
{% with rows=value.data|default:value %}
  {% if rows %}
  <div class="w-full mb-6 rounded-lg overflow-hidden ring-1 ring-blue-200 bg-blue-50">
    <table class="min-w-full border-collapse w-full">
      <thead class="bg-blue-600">
        <tr>
          {% for cell in rows.0 %}
            <th class="px-4 py-3 text-center text-sm font-semibold text-white border-b border-blue-700">
              {{ cell|richtext }}
            </th>
          {% endfor %}
        </tr>
      </thead>

      <tbody>
        {% for row in rows|slice:"1:" %}
          <tr class="{% cycle 'bg-blue-100' 'bg-blue-50' %} hover:bg-blue-200">
            {% for cell in row %}
              <td class="px-4 py-3 text-sm text-gray-800 text-center border-b border-blue-200 prose max-w-none">
                {{ cell|richtext }}
              </td>
            {% endfor %}
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% endif %}
{% endwith %}

<script>
if (window.MathJax) { MathJax.typesetPromise(); }
</script>



